!function(){"use strict";function t(t){this.opt=$.extend({more:".more",hasNext:0,pageId:""},t),this.init()}t.prototype.init=function(){var t=this,e=this.opt;0!=t.hasNext&&(t.currPage=1,t.hasNext=e.hasNext,t.pageId=e.pageId,t.isLoading=0,t.pageBody=$(e.id),t.more=$(e.more),t.more.attr("txt",t.more.text()),t.hasNext&&t.more.css("visibility","visible"),t.more.click(function(){t.loadNext()}),$(window).scroll(function(){$(window).scrollTop()==$(document).height()-$(window).height()&&t.loadNext()}),t.loadNext())},t.prototype.setData=function(t){var a,n=this,i=this.opt;i.callback&&(a="",$.each(t,function(t,e){n.pageId=e.id,a+=i.callback(e)}),n.pageBody.append(a))},t.prototype.setHasNext=function(){var t=this;t.isLoading=0,t.more.html(t.more.attr("txt")),t.hasNext?t.more.css("visibility","visible"):t.more.css("visibility","hidden")},t.prototype.loadNext=function(){var n=this,t=this.opt;0!=n.hasNext&&1!=n.isLoading&&(n.isLoading=1,n.more.html("Loading...."),VI.ajax({type:"get",url:t.url,dataType:"json",data:{page:n.currPage-1},success:function(t){0==t.code&&(n.hasNext=t.hasNext,n.setData(t.pageList),n.currPage=t.currPage),n.setHasNext()},error:function(t,e,a){n.setHasNext()}}))};function i(t,e){}const o=document.getElementsByTagName("head")[0],s="undefined"!=typeof opera&&"[object Opera]"===opera.toString();window.VI={isOnLoad:0,onLoad:function(){"undefined"!=typeof $&&1!=this.isOnLoad&&(this.isOnLoad=1,$(window.lazyInit).each(function(t,e){e()}))},addScript(t,e){},addElement:function(t,e,a){const n=document.createElement(t);!n.attachEvent||n.attachEvent.toString&&n.attachEvent.toString().indexOf("[native code")<0||s?n.addEventListener("load",i,!1):n.attachEvent("onreadystatechange",i),n.src=e,o.appendChild(n)},ajax:function(n){var t=$.extend({success:function(t){},error:function(t,e,a){}},n);if(n.element){if(n.element.hasClass("sending"))return;t.success=function(t){n.success(t)&&n.element.removeClass("sending")},t.error=function(t,e,a){n.element.removeClass("sending"),n.error(t,e,a)}}$.ajax(t)},setStorage:function(t,e){return localStorage.setItem(t,e)},getStorage:function(t){return localStorage.getItem(t)},showHistory(){const t=$(".right-history .right-item-body");if(0!=t.length){var e=this.getStorage("view_history");let a="";e&&$.each(JSON.parse(e),function(t,e){a+='<li>          <div class="nowrap">            <a target="_blank" href="'+e.url+'" class="nav-link" title="'+e.title+'">'+e.title+"</a>          </div>        </li>"}),a=""!=a?'<ul class="list-link">'+a+"</ul>":'<div class="gray no-tips">None</div>',t.html(a)}},addHistory:function(a){var t=this.getStorage("view_history");let e=[],n=(t&&(e=JSON.parse(t)),[]);for($.each(e,function(t,e){e.url!=a.url&&n.push(e)}),n.unshift(a);6<n.length;)n.pop();this.setStorage("view_history",JSON.stringify(n)),this.showHistory()},lazyImage:function(){$(".js_lazy_img").each(function(t,e){const a=$(e);a.attr("src",a.attr("data-src")),a.removeClass("js_lazy_img")})},calendar:function(t){try{var e=Intl.DateTimeFormat().resolvedOptions().timeZone;VI.ajax({type:"get",url:"/calendar",dataType:"json",data:{zone:e.replace("/","-"),lang:window.IGobal.lang},success:function(t){var n,i;0==t.code&&(n=t,i=e,$(".v-calendar").each(function(t,e){const a=$(e);a.find(".right-item-title").html(n.title),a.find(".calendar").html(n.html),a.find(".zone").html(i),a.find(".abs").html(n.abs),a.removeClass("hide")}))},error:function(t,e,a){}})}catch(t){}},showShellMore(){$(".js-cdn-max").each(function(t,e){var a=$(e);a.find(".shell-more").click(function(){a.removeClass("js-cdn-max")})})}},window.PageList=t}();